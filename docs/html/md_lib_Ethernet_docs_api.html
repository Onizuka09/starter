<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Starter: Ethernet Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Starter
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Ethernet Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md245"></a>
Ethernet Class</h1>
<h2><a class="anchor" id="autotoc_md246"></a>
&lt;tt&gt;Ethernet.begin()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md247"></a>
Description</h3>
<p>Initializes the Ethernet library and network settings.</p>
<p>With version 1.0, the library supports DHCP. Using Ethernet.begin(mac) with the proper network setup, the Ethernet shield will automatically obtain an IP address. This increases the sketch size significantly. To make sure the DHCP lease is properly renewed when needed, be sure to call Ethernet.maintain() regularly.</p>
<h3><a class="anchor" id="autotoc_md248"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.begin(mac);</div>
<div class="line">Ethernet.begin(mac, ip);</div>
<div class="line">Ethernet.begin(mac, ip, dns);</div>
<div class="line">Ethernet.begin(mac, ip, dns, gateway);</div>
<div class="line">Ethernet.begin(mac, ip, dns, gateway, subnet);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md249"></a>
Parameters</h3>
<ul>
<li>mac: the MAC (Media access control) address for the device (array of 6 bytes). this is the Ethernet hardware address of your shield. Newer Arduino Ethernet Shields include a sticker with the device's MAC address. For older shields, choose your own.</li>
<li>ip: the IP address of the device (array of 4 bytes)</li>
<li>dns: the IP address of the DNS server (array of 4 bytes). optional: defaults to the device IP address with the last octet set to 1</li>
<li>gateway: the IP address of the network gateway (array of 4 bytes). optional: defaults to the device IP address with the last octet set to 1</li>
<li>subnet: the subnet mask of the network (array of 4 bytes). optional: defaults to 255.255.255.0</li>
</ul>
<h3><a class="anchor" id="autotoc_md250"></a>
Returns</h3>
<ul>
<li>The DHCP version of this function, Ethernet.begin(mac), returns an int: 1 on a successful DHCP connection, 0 on failure.</li>
<li>The other versions don't return anything.</li>
</ul>
<h3><a class="anchor" id="autotoc_md251"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">// the media access control (ethernet hardware) address for the shield:</div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };  </div>
<div class="line">//the IP address for the shield:</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };    </div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md252"></a>
&lt;tt&gt;Ethernet.dnsServerIP()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md253"></a>
Description</h3>
<p>Returns the DNS server IP address for the device.</p>
<h3><a class="anchor" id="autotoc_md254"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.dnsServerIP()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md255"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md256"></a>
Returns</h3>
<ul>
<li>the DNS server IP address for the device (IPAddress).</li>
</ul>
<h3><a class="anchor" id="autotoc_md257"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  Serial.print(&quot;The DNS server IP address is: &quot;);</div>
<div class="line">  Serial.println(Ethernet.dnsServerIP());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md258"></a>
&lt;tt&gt;Ethernet.gatewayIP()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md259"></a>
Description</h3>
<p>Returns the gateway IP address for the device.</p>
<h3><a class="anchor" id="autotoc_md260"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.gatewayIP()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md261"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md262"></a>
Returns</h3>
<ul>
<li>the gateway IP address for the device (IPAddress).</li>
</ul>
<h3><a class="anchor" id="autotoc_md263"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  Serial.print(&quot;The gateway IP address is: &quot;);</div>
<div class="line">  Serial.println(Ethernet.gatewayIP());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md264"></a>
&lt;tt&gt;Ethernet.hardwareStatus()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md265"></a>
Description</h3>
<p>Ethernet.hardwareStatus() tells you which WIZnet Ethernet controller chip was detected during Ethernet.begin(), if any. This can be used for troubleshooting. If no Ethernet controller was detected then there is likely a hardware problem.</p>
<h3><a class="anchor" id="autotoc_md266"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.hardwareStatus()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md267"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md268"></a>
Returns</h3>
<ul>
<li>which WIZnet Ethernet controller chip was detected during Ethernet.begin() (EthernetHardwareStatus):</li>
</ul>
<div class="fragment"><div class="line">EthernetNoHardware</div>
<div class="line">EthernetW5100</div>
<div class="line">EthernetW5200</div>
<div class="line">EthernetW5500</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md269"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // Open serial communications and wait for port to open:</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  if (Ethernet.hardwareStatus() == EthernetNoHardware) {</div>
<div class="line">    Serial.println(&quot;Ethernet shield was not found.&quot;);</div>
<div class="line">  }</div>
<div class="line">  else if (Ethernet.hardwareStatus() == EthernetW5100) {</div>
<div class="line">    Serial.println(&quot;W5100 Ethernet controller detected.&quot;);</div>
<div class="line">  }</div>
<div class="line">  else if (Ethernet.hardwareStatus() == EthernetW5200) {</div>
<div class="line">    Serial.println(&quot;W5200 Ethernet controller detected.&quot;);</div>
<div class="line">  }</div>
<div class="line">  else if (Ethernet.hardwareStatus() == EthernetW5500) {</div>
<div class="line">    Serial.println(&quot;W5500 Ethernet controller detected.&quot;);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md270"></a>
&lt;tt&gt;Ethernet.init()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md271"></a>
Description</h3>
<p>Used to configure the CS (chip select) pin for the Ethernet controller chip. The Ethernet library has a default CS pin, which is usually correct, but with some non-standard Ethernet hardware you might need to use a different CS pin.</p>
<h3><a class="anchor" id="autotoc_md272"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.init(sspin)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md273"></a>
Parameters</h3>
<ul>
<li>sspin: the pin number to use for CS (byte)</li>
</ul>
<h3><a class="anchor" id="autotoc_md274"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md275"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Ethernet.init(53);  // use pin 53 for Ethernet CS</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md276"></a>
&lt;tt&gt;Ethernet.linkStatus()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md277"></a>
Description</h3>
<p>Tells you whether the link is active. LinkOFF could indicate the Ethernet cable is unplugged or defective. This feature is only available when using the W5200 and W5500 Ethernet controller chips.</p>
<h3><a class="anchor" id="autotoc_md278"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.linkStatus()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md279"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md280"></a>
Returns</h3>
<ul>
<li>the link status (EthernetLinkStatus):</li>
<li>Unknown</li>
<li>LinkON</li>
<li>LinkOFF</li>
</ul>
<h3><a class="anchor" id="autotoc_md281"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // Open serial communications and wait for port to open:</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {</div>
<div class="line">  if (Ethernet.linkStatus() == Unknown) {</div>
<div class="line">    Serial.println(&quot;Link status unknown. Link status detection is only available with W5200 and W5500.&quot;);</div>
<div class="line">  }</div>
<div class="line">  else if (Ethernet.linkStatus() == LinkON) {</div>
<div class="line">    Serial.println(&quot;Link status: On&quot;);</div>
<div class="line">  }</div>
<div class="line">  else if (Ethernet.linkStatus() == LinkOFF) {</div>
<div class="line">    Serial.println(&quot;Link status: Off&quot;);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md282"></a>
&lt;tt&gt;Ethernet.localIP()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md283"></a>
Description</h3>
<p>Obtains the IP address of the Ethernet shield. Useful when the address is auto assigned through DHCP.</p>
<h3><a class="anchor" id="autotoc_md284"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.localIP();</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md285"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md286"></a>
Returns</h3>
<ul>
<li>the IP address</li>
</ul>
<h3><a class="anchor" id="autotoc_md287"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">// Enter a MAC address for your controller below.</div>
<div class="line">// Newer Ethernet shields have a MAC address printed on a sticker on the shield</div>
<div class="line">byte mac[] = {  </div>
<div class="line">  0x00, 0xAA, 0xBB, 0xCC, 0xDE, 0x02 };</div>
<div class="line"> </div>
<div class="line">// Initialize the Ethernet client library</div>
<div class="line">// with the IP address and port of the server</div>
<div class="line">// that you want to connect to (port 80 is default for HTTP):</div>
<div class="line">EthernetClient client;</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // start the serial library:</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  // start the Ethernet connection:</div>
<div class="line">  if (Ethernet.begin(mac) == 0) {</div>
<div class="line">    Serial.println(&quot;Failed to configure Ethernet using DHCP&quot;);</div>
<div class="line">    // no point in carrying on, so do nothing forevermore:</div>
<div class="line">    for(;;)</div>
<div class="line">      ;</div>
<div class="line">  }</div>
<div class="line">  // print your local IP address:</div>
<div class="line">  Serial.println(Ethernet.localIP());</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md288"></a>
&lt;tt&gt;Ethernet.MACAddress()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md289"></a>
Description</h3>
<p>Fills the supplied buffer with the MAC address of the device.</p>
<h3><a class="anchor" id="autotoc_md290"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.MACAddress(mac_address)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md291"></a>
Parameters</h3>
<ul>
<li>mac_address: buffer to receive the MAC address (array of 6 bytes)</li>
</ul>
<h3><a class="anchor" id="autotoc_md292"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md293"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  byte macBuffer[6];  // create a buffer to hold the MAC address</div>
<div class="line">  Ethernet.MACAddress(macBuffer); // fill the buffer</div>
<div class="line">  Serial.print(&quot;The MAC address is: &quot;);</div>
<div class="line">  for (byte octet = 0; octet &lt; 6; octet++) {</div>
<div class="line">    Serial.print(macBuffer[octet], HEX);</div>
<div class="line">    if (octet &lt; 5) {</div>
<div class="line">      Serial.print(&#39;-&#39;);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md294"></a>
&lt;tt&gt;Ethernet.maintain()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md295"></a>
Description</h3>
<p>Allows for the renewal of DHCP leases. When assigned an IP address via DHCP, ethernet devices are given a lease on the address for an amount of time. With Ethernet.maintain(), it is possible to request a renewal from the DHCP server. Depending on the server's configuration, you may receive the same address, a new one, or none at all.</p>
<p>You can call this function as often as you want, it will only re-request a DHCP lease when needed (returning 0 in all other cases). The easiest way is to just call it on every loop() invocation, but less often is also fine. Not calling this function (or calling it significantly less then once per second) will prevent the lease to be renewed when the DHCP protocol requires this, continuing to use the expired lease instead (which will not directly break connectivity, but if the DHCP server leases the same address to someone else, things will likely break).</p>
<p>Ethernet.maintain() was added to Arduino 1.0.1.</p>
<h3><a class="anchor" id="autotoc_md296"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.maintain();</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md297"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md298"></a>
Returns</h3>
<p>byte:</p>
<ul>
<li>0: nothing happened</li>
<li>1: renew failed</li>
<li>2: renew success</li>
<li>3: rebind fail</li>
<li>4: rebind success</li>
</ul>
<h2><a class="anchor" id="autotoc_md299"></a>
&lt;tt&gt;Ethernet.setDnsServerIP()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md300"></a>
Description</h3>
<p>Set the IP address of the DNS server. Not for use with DHCP.</p>
<h3><a class="anchor" id="autotoc_md301"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.setDnsServerIP(dns_server)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md302"></a>
Parameters</h3>
<ul>
<li>dns_server: the IP address of the DNS server (IPAddress)</li>
</ul>
<h3><a class="anchor" id="autotoc_md303"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md304"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line">IPAddress myDns(192, 168, 1, 1);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Ethernet.begin(mac, ip, myDns);</div>
<div class="line">  IPAddress newDns(192, 168, 1, 1);</div>
<div class="line">  Ethernet.setDnsServerIP(newDns);  // change the DNS server IP address</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md305"></a>
&lt;tt&gt;Ethernet.setGatewayIP()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md306"></a>
Description</h3>
<p>Set the IP address of the network gateway. Not for use with DHCP.</p>
<h3><a class="anchor" id="autotoc_md307"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.setGatewayIP(gateway)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md308"></a>
Parameters</h3>
<ul>
<li>gateway: the IP address of the network gateway (IPAddress)</li>
</ul>
<h3><a class="anchor" id="autotoc_md309"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md310"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line">IPAddress myDns(192, 168, 1, 1);</div>
<div class="line">IPAddress gateway(192, 168, 1, 1);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Ethernet.begin(mac, ip, myDns, gateway);</div>
<div class="line">  IPAddress newGateway(192, 168, 100, 1);</div>
<div class="line">  Ethernet.setGatewayIP(newGateway);  // change the gateway IP address</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md311"></a>
&lt;tt&gt;Ethernet.setLocalIP()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md312"></a>
Description</h3>
<p>Set the IP address of the device. Not for use with DHCP.</p>
<h3><a class="anchor" id="autotoc_md313"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.setLocalIP(local_ip)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md314"></a>
Parameters</h3>
<ul>
<li>local_ip: the IP address to use (IPAddress)</li>
</ul>
<h3><a class="anchor" id="autotoc_md315"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md316"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">  IPAddress newIp(10, 0, 0, 178);</div>
<div class="line">  Ethernet.setLocalIP(newIp);  // change the IP address</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md317"></a>
&lt;tt&gt;Ethernet.setMACAddress()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md318"></a>
Description</h3>
<p>Set the MAC address. Not for use with DHCP.</p>
<h3><a class="anchor" id="autotoc_md319"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.setMACAddress(mac)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md320"></a>
Parameters</h3>
<ul>
<li>mac: the MAC address to use (array of 6 bytes)</li>
</ul>
<h3><a class="anchor" id="autotoc_md321"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md322"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">  byte newMac[] = {0x00, 0xAA, 0xBB, 0xCC, 0xDE, 0x02};</div>
<div class="line">  Ethernet.setMACAddress(newMac);  // change the MAC address</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md323"></a>
&lt;tt&gt;Ethernet.setRetransmissionCount()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md324"></a>
Description</h3>
<p>Set the number of transmission attempts the Ethernet controller will make before giving up. The initial value is 8. 8 transmission attempts times the 200 ms default timeout equals a blocking delay of 1600 ms during a communications failure. You might prefer to set a lower number to make your program more responsive in the event something goes wrong with communications. Despite the name, this sets the total number of transmission attempts (not the number of retries after the first attempt fails) so the minimum value you would ever want to set is 1.</p>
<h3><a class="anchor" id="autotoc_md325"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.setRetransmissionCount(number)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md326"></a>
Parameters</h3>
<ul>
<li>number: number of transmission attempts the Ethernet controller should make before giving up (byte)</li>
</ul>
<h3><a class="anchor" id="autotoc_md327"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md328"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">  Ethernet.setRetransmissionCount(1);  // configure the Ethernet controller to only attempt one transmission before giving up</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md329"></a>
&lt;tt&gt;Ethernet.setRetransmissionTimeout()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md330"></a>
Description</h3>
<p>Set the Ethernet controller's timeout. The initial value is 200 ms. A 200 ms timeout times the default of 8 attempts equals a blocking delay of 1600 ms during a communications failure. You might prefer to set a shorter timeout to make your program more responsive in the event something goes wrong with communications. You will need to do some experimentation to determine an appropriate value for your specific application.</p>
<h3><a class="anchor" id="autotoc_md331"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.setRetransmissionTimeout(milliseconds)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md332"></a>
Parameters</h3>
<ul>
<li>milliseconds: the timeout duration (uint16_t)</li>
</ul>
<h3><a class="anchor" id="autotoc_md333"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md334"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">  Ethernet.setRetransmissionTimeout(50);  // set the Ethernet controller&#39;s timeout to 50 ms</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md335"></a>
&lt;tt&gt;Ethernet.setSubnetMask()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md336"></a>
Description</h3>
<p>Set the subnet mask of the network. Not for use with DHCP.</p>
<h3><a class="anchor" id="autotoc_md337"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.setSubnetMask(subnet)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md338"></a>
Parameters</h3>
<ul>
<li>subnet: the subnet mask of the network (IPAddress)</li>
</ul>
<h3><a class="anchor" id="autotoc_md339"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md340"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line">IPAddress myDns(192, 168, 1, 1);</div>
<div class="line">IPAddress gateway(192, 168, 1, 1);</div>
<div class="line">IPAddress subnet(255, 255, 0, 0);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Ethernet.begin(mac, ip, myDns, gateway, subnet);</div>
<div class="line">  IPAddress newSubnet(255, 255, 255, 0);</div>
<div class="line">  Ethernet.setSubnetMask(newSubnet);  // change the subnet mask</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md341"></a>
&lt;tt&gt;Ethernet.subnetMask()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md342"></a>
Description</h3>
<p>Returns the subnet mask of the device.</p>
<h3><a class="anchor" id="autotoc_md343"></a>
Syntax</h3>
<div class="fragment"><div class="line">Ethernet.subnetMask()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md344"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md345"></a>
Returns</h3>
<ul>
<li>the subnet mask of the device (IPAddress)</li>
</ul>
<h3><a class="anchor" id="autotoc_md346"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  Serial.print(&quot;The subnet mask is: &quot;);</div>
<div class="line">  Serial.println(Ethernet.subnetMask());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop () {}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md347"></a>
IPAddress Class</h1>
<h2><a class="anchor" id="autotoc_md348"></a>
&lt;tt&gt;IPAddress()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md349"></a>
Description</h3>
<p>Defines an IP address. It can be used to declare both local and remote addresses.</p>
<h3><a class="anchor" id="autotoc_md350"></a>
Syntax</h3>
<div class="fragment"><div class="line">IPAddress(address);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md351"></a>
Parameters</h3>
<ul>
<li>address: a comma delimited list representing the address (4 bytes, ex. 192, 168, 1, 1)</li>
</ul>
<h3><a class="anchor" id="autotoc_md352"></a>
Returns</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md353"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">// network configuration. dns server, gateway and subnet are optional.</div>
<div class="line"> </div>
<div class="line"> // the media access control (ethernet hardware) address for the shield:</div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };  </div>
<div class="line"> </div>
<div class="line">// the dns server ip</div>
<div class="line">IPAddress dnServer(192, 168, 0, 1);</div>
<div class="line">// the router&#39;s gateway address:</div>
<div class="line">IPAddress gateway(192, 168, 0, 1);</div>
<div class="line">// the subnet:</div>
<div class="line">IPAddress subnet(255, 255, 255, 0);</div>
<div class="line"> </div>
<div class="line">//the IP address is dependent on your network</div>
<div class="line">IPAddress ip(192, 168, 0, 2);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line"> </div>
<div class="line">  // initialize the ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip, dnServer, gateway, subnet);</div>
<div class="line">  //print out the IP address</div>
<div class="line">  Serial.print(&quot;IP = &quot;);</div>
<div class="line">  Serial.println(Ethernet.localIP());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md354"></a>
Server Class</h1>
<h2><a class="anchor" id="autotoc_md355"></a>
&lt;tt&gt;Server&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md356"></a>
Description</h3>
<p>Server is the base class for all Ethernet server based calls. It is not called directly, but invoked whenever you use a function that relies on it.</p>
<h2><a class="anchor" id="autotoc_md357"></a>
&lt;tt&gt;EthernetServer()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md358"></a>
Description</h3>
<p>Create a server that listens for incoming connections on the specified port.</p>
<h3><a class="anchor" id="autotoc_md359"></a>
Syntax</h3>
<div class="fragment"><div class="line">Server(port);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md360"></a>
Parameters</h3>
<ul>
<li>port: the port to listen on (int)</li>
</ul>
<h3><a class="anchor" id="autotoc_md361"></a>
Returns</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md362"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">// network configuration.  gateway and subnet are optional.</div>
<div class="line"> </div>
<div class="line"> // the media access control (ethernet hardware) address for the shield:</div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };  </div>
<div class="line">//the IP address for the shield:</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };    </div>
<div class="line">// the router&#39;s gateway address:</div>
<div class="line">byte gateway[] = { 10, 0, 0, 1 };</div>
<div class="line">// the subnet:</div>
<div class="line">byte subnet[] = { 255, 255, 0, 0 };</div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server = EthernetServer(23);</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  // initialize the ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip, gateway, subnet);</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  // if an incoming client connects, there will be bytes available to read:</div>
<div class="line">  EthernetClient client = server.available();</div>
<div class="line">  if (client == true) {</div>
<div class="line">    // read bytes from the incoming client and write them back</div>
<div class="line">    // to any clients connected to the server:</div>
<div class="line">    server.write(client.read());</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md363"></a>
&lt;tt&gt;server.begin()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md364"></a>
Description</h3>
<p>Tells the server to begin listening for incoming connections.</p>
<h3><a class="anchor" id="autotoc_md365"></a>
Syntax</h3>
<div class="fragment"><div class="line">server.begin()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md366"></a>
Parameters</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md367"></a>
Returns</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md368"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">// the media access control (ethernet hardware) address for the shield:</div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };  </div>
<div class="line">//the IP address for the shield:</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };    </div>
<div class="line">// the router&#39;s gateway address:</div>
<div class="line">byte gateway[] = { 10, 0, 0, 1 };</div>
<div class="line">// the subnet:</div>
<div class="line">byte subnet[] = { 255, 255, 0, 0 };</div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server = EthernetServer(23);</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  // initialize the ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip, gateway, subnet);</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  // if an incoming client connects, there will be bytes available to read:</div>
<div class="line">  EthernetClient client = server.available();</div>
<div class="line">  if (client == true) {</div>
<div class="line">    // read bytes from the incoming client and write them back</div>
<div class="line">    // to any clients connected to the server:</div>
<div class="line">    server.write(client.read());</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md369"></a>
&lt;tt&gt;server.accept()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md370"></a>
Description</h3>
<p>The traditional server.available() function would only tell you of a new client after it sent data, which makes some protocols like FTP impossible to properly implement.</p>
<p>The intention is programs will use either available() or accept(), but not both. With available(), the client connection continues to be managed by <a class="el" href="classEthernetServer.html">EthernetServer</a>. You don’t need to keep a client object, since calling available() will give you whatever client has sent data. Simple servers can be written with very little code using available().</p>
<p>With accept(), <a class="el" href="classEthernetServer.html">EthernetServer</a> gives you the client only once, regardless of whether it has sent any data. You must keep track of the connected clients. This requires more code, but you gain more control.</p>
<h3><a class="anchor" id="autotoc_md371"></a>
Syntax</h3>
<div class="fragment"><div class="line">server.accept()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md372"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md373"></a>
Returns</h3>
<ul>
<li>a Client object. If no client has data available for reading, this object will evaluate to false in an if-statement. (<a class="el" href="classEthernetClient.html">EthernetClient</a>).</li>
</ul>
<h3><a class="anchor" id="autotoc_md374"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(192, 168, 69, 104);</div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server(23);</div>
<div class="line"> </div>
<div class="line">EthernetClient clients[8];</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  // Open serial communications and wait for port to open:</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">  // check for any new client connecting, and say hello (before any incoming data)</div>
<div class="line">  EthernetClient newClient = server.accept();</div>
<div class="line">  if (newClient) {</div>
<div class="line">    for (byte i = 0; i &lt; 8; i++) {</div>
<div class="line">      if (!clients[i]) {</div>
<div class="line">        newClient.print(&quot;Hello, client number: &quot;);</div>
<div class="line">        newClient.println(i);</div>
<div class="line">        // Once we &quot;accept&quot;, the client is no longer tracked by EthernetServer</div>
<div class="line">        // so we must store it into our list of clients</div>
<div class="line">        clients[i] = newClient;</div>
<div class="line">        break;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  // check for incoming data from all clients</div>
<div class="line">  for (byte i = 0; i &lt; 8; i++) {</div>
<div class="line">    while (clients[i] &amp;&amp; clients[i].available() &gt; 0) {</div>
<div class="line">      // read incoming data from the client</div>
<div class="line">      Serial.write(clients[i].read());</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  // stop any clients which disconnect</div>
<div class="line">  for (byte i = 0; i &lt; 8; i++) {</div>
<div class="line">    if (clients[i] &amp;&amp; !clients[i].connected()) {</div>
<div class="line">      clients[i].stop();</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md375"></a>
&lt;tt&gt;server.available()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md376"></a>
Description</h3>
<p>Gets a client that is connected to the server and has data available for reading. The connection persists when the returned client object goes out of scope; you can close it by calling client.stop().</p>
<h3><a class="anchor" id="autotoc_md377"></a>
Syntax</h3>
<div class="fragment"><div class="line">server.available()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md378"></a>
Parameters</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md379"></a>
Returns</h3>
<ul>
<li>a Client object; if no Client has data available for reading, this object will evaluate to false in an if-statement (see the example below)</li>
</ul>
<h3><a class="anchor" id="autotoc_md380"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line">// the media access control (ethernet hardware) address for the shield:</div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };  </div>
<div class="line">//the IP address for the shield:</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };    </div>
<div class="line">// the router&#39;s gateway address:</div>
<div class="line">byte gateway[] = { 10, 0, 0, 1 };</div>
<div class="line">// the subnet:</div>
<div class="line">byte subnet[] = { 255, 255, 0, 0 };</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server = EthernetServer(23);</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  // initialize the ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip, gateway, subnet);</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  // if an incoming client connects, there will be bytes available to read:</div>
<div class="line">  EthernetClient client = server.available();</div>
<div class="line">  if (client) {</div>
<div class="line">    // read bytes from the incoming client and write them back</div>
<div class="line">    // to any clients connected to the server:</div>
<div class="line">    server.write(client.read());</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md381"></a>
&lt;tt&gt;if(server)&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md382"></a>
Description</h3>
<p>Indicates whether the server is listening for new clients. You can use this to detect whether server.begin() was successful. It can also tell you when no more sockets are available to listen for more clients, because the maximum number have connected.</p>
<h3><a class="anchor" id="autotoc_md383"></a>
Syntax</h3>
<div class="fragment"><div class="line">if(server)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md384"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md385"></a>
Returns</h3>
<ul>
<li>whether the server is listening for new clients (bool).</li>
</ul>
<h3><a class="anchor" id="autotoc_md386"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server = EthernetServer(23);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // Open serial communications and wait for port to open:</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  // initialize the Ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">  if (server) {</div>
<div class="line">    Serial.println(&quot;Server is listening&quot;);</div>
<div class="line">  }</div>
<div class="line">  else {</div>
<div class="line">    Serial.println(&quot;Server is not listening&quot;);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md387"></a>
&lt;tt&gt;server.write()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md388"></a>
Description</h3>
<p>Write data to all the clients connected to a server. This data is sent as a byte or series of bytes.</p>
<h3><a class="anchor" id="autotoc_md389"></a>
Syntax</h3>
<div class="fragment"><div class="line">server.write(val)</div>
<div class="line">server.write(buf, len)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md390"></a>
Parameters</h3>
<ul>
<li>val: a value to send as a single byte (byte or char)</li>
<li>buf: an array to send as a series of bytes (byte or char)</li>
<li>len: the length of the buffer</li>
</ul>
<h3><a class="anchor" id="autotoc_md391"></a>
Returns</h3>
<ul>
<li>byte</li>
<li>write() returns the number of bytes written. It is not necessary to read this.</li>
</ul>
<h3><a class="anchor" id="autotoc_md392"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">// network configuration.  gateway and subnet are optional.</div>
<div class="line"> </div>
<div class="line"> // the media access control (ethernet hardware) address for the shield:</div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };  </div>
<div class="line">//the IP address for the shield:</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };    </div>
<div class="line">// the router&#39;s gateway address:</div>
<div class="line">byte gateway[] = { 10, 0, 0, 1 };</div>
<div class="line">// the subnet:</div>
<div class="line">byte subnet[] = { 255, 255, 0, 0 };</div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server = EthernetServer(23);</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  // initialize the ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip, gateway, subnet);</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  // if an incoming client connects, there will be bytes available to read:</div>
<div class="line">  EthernetClient client = server.available();</div>
<div class="line">  if (client == true) {</div>
<div class="line">    // read bytes from the incoming client and write them back</div>
<div class="line">    // to any clients connected to the server:</div>
<div class="line">    server.write(client.read());</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md393"></a>
&lt;tt&gt;server.print()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md394"></a>
Description</h3>
<p><a class="el" href="classPrint.html">Print</a> data to all the clients connected to a server. Prints numbers as a sequence of digits, each an ASCII character (e.g. the number 123 is sent as the three characters '1', '2', '3').</p>
<h3><a class="anchor" id="autotoc_md395"></a>
Syntax</h3>
<div class="fragment"><div class="line">server.print(data)</div>
<div class="line">server.print(data, BASE)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md396"></a>
Parameters</h3>
<ul>
<li>data: the data to print (char, byte, int, long, or string)</li>
<li>BASE (optional): the base in which to print numbers: BIN for binary (base 2), DEC for decimal (base 10), OCT for octal (base 8), HEX for hexadecimal (base 16).</li>
</ul>
<h3><a class="anchor" id="autotoc_md397"></a>
Returns</h3>
<ul>
<li>byte</li>
<li>print() will return the number of bytes written, though reading that number is optional</li>
</ul>
<h2><a class="anchor" id="autotoc_md398"></a>
&lt;tt&gt;server.println()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md399"></a>
Description</h3>
<p><a class="el" href="classPrint.html">Print</a> data, followed by a newline, to all the clients connected to a server. Prints numbers as a sequence of digits, each an ASCII character (e.g. the number 123 is sent as the three characters '1', '2', '3').</p>
<h3><a class="anchor" id="autotoc_md400"></a>
Syntax</h3>
<div class="fragment"><div class="line">server.println()</div>
<div class="line">server.println(data)</div>
<div class="line">server.println(data, BASE)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md401"></a>
Parameters</h3>
<ul>
<li>data (optional): the data to print (char, byte, int, long, or string)</li>
<li>BASE (optional): the base in which to print numbers: BIN for binary (base 2), DEC for decimal (base 10), OCT for octal (base 8), HEX for hexadecimal (base 16).</li>
</ul>
<h3><a class="anchor" id="autotoc_md402"></a>
Returns</h3>
<ul>
<li>byte</li>
<li>println() will return the number of bytes written, though reading that number is optional</li>
</ul>
<h1><a class="anchor" id="autotoc_md403"></a>
Client Class</h1>
<h2><a class="anchor" id="autotoc_md404"></a>
&lt;tt&gt;Client&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md405"></a>
Description</h3>
<p>Client is the base class for all Ethernet client based calls. It is not called directly, but invoked whenever you use a function that relies on it.</p>
<h2><a class="anchor" id="autotoc_md406"></a>
&lt;tt&gt;EthernetClient()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md407"></a>
Description</h3>
<p>Creates a client which can connect to a specified internet IP address and port (defined in the client.connect() function).</p>
<h3><a class="anchor" id="autotoc_md408"></a>
Syntax</h3>
<div class="fragment"><div class="line">EthernetClient()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md409"></a>
Parameters</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md410"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };</div>
<div class="line">byte server[] = { 64, 233, 187, 99 }; // Google</div>
<div class="line"> </div>
<div class="line">EthernetClient client;</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line"> </div>
<div class="line">  delay(1000);</div>
<div class="line"> </div>
<div class="line">  Serial.println(&quot;connecting...&quot;);</div>
<div class="line"> </div>
<div class="line">  if (client.connect(server, 80)) {</div>
<div class="line">    Serial.println(&quot;connected&quot;);</div>
<div class="line">    client.println(&quot;GET /search?q=arduino HTTP/1.0&quot;);</div>
<div class="line">    client.println();</div>
<div class="line">  } else {</div>
<div class="line">    Serial.println(&quot;connection failed&quot;);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  if (client.available()) {</div>
<div class="line">    char c = client.read();</div>
<div class="line">    Serial.print(c);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  if (!client.connected()) {</div>
<div class="line">    Serial.println();</div>
<div class="line">    Serial.println(&quot;disconnecting.&quot;);</div>
<div class="line">    client.stop();</div>
<div class="line">    for(;;)</div>
<div class="line">      ;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md411"></a>
&lt;tt&gt;if (EthernetClient)&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md412"></a>
Description</h3>
<p>Indicates if the specified Ethernet client is ready.</p>
<h3><a class="anchor" id="autotoc_md413"></a>
Syntax</h3>
<div class="fragment"><div class="line">if (client)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md414"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md415"></a>
Returns</h3>
<ul>
<li>boolean : returns true if the specified client is available.</li>
</ul>
<h3><a class="anchor" id="autotoc_md416"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };</div>
<div class="line">byte server[] = { 64, 233, 187, 99 }; // Google</div>
<div class="line"> </div>
<div class="line">EthernetClient client;</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line"> </div>
<div class="line">  delay(1000);</div>
<div class="line"> </div>
<div class="line">  Serial.println(&quot;connecting...&quot;);</div>
<div class="line">  while(!client){</div>
<div class="line">    ; // wait until there is a client connected to proceed</div>
<div class="line">  }</div>
<div class="line">  if (client.connect(server, 80)) {</div>
<div class="line">    Serial.println(&quot;connected&quot;);</div>
<div class="line">    client.println(&quot;GET /search?q=arduino HTTP/1.0&quot;);</div>
<div class="line">    client.println();</div>
<div class="line">  } else {</div>
<div class="line">    Serial.println(&quot;connection failed&quot;);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  if (client.available()) {</div>
<div class="line">    char c = client.read();</div>
<div class="line">    Serial.print(c);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  if (!client.connected()) {</div>
<div class="line">    Serial.println();</div>
<div class="line">    Serial.println(&quot;disconnecting.&quot;);</div>
<div class="line">    client.stop();</div>
<div class="line">    for(;;)</div>
<div class="line">      ;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md417"></a>
&lt;tt&gt;client.connected()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md418"></a>
Description</h3>
<p>Whether or not the client is connected. Note that a client is considered connected if the connection has been closed but there is still unread data.</p>
<h3><a class="anchor" id="autotoc_md419"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.connected()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md420"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md421"></a>
Returns</h3>
<ul>
<li>Returns true if the client is connected, false if not.</li>
</ul>
<h3><a class="anchor" id="autotoc_md422"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };</div>
<div class="line">byte server[] = { 64, 233, 187, 99 }; // Google</div>
<div class="line"> </div>
<div class="line">EthernetClient client;</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  client.connect(server, 80);</div>
<div class="line">  delay(1000);</div>
<div class="line"> </div>
<div class="line">  Serial.println(&quot;connecting...&quot;);</div>
<div class="line"> </div>
<div class="line">  if (client.connected()) {</div>
<div class="line">    Serial.println(&quot;connected&quot;);</div>
<div class="line">    client.println(&quot;GET /search?q=arduino HTTP/1.0&quot;);</div>
<div class="line">    client.println();</div>
<div class="line">  } else {</div>
<div class="line">    Serial.println(&quot;connection failed&quot;);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  if (client.available()) {</div>
<div class="line">    char c = client.read();</div>
<div class="line">    Serial.print(c);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  if (!client.connected()) {</div>
<div class="line">    Serial.println();</div>
<div class="line">    Serial.println(&quot;disconnecting.&quot;);</div>
<div class="line">    client.stop();</div>
<div class="line">    for(;;)</div>
<div class="line">      ;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md423"></a>
&lt;tt&gt;client.connect()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md424"></a>
Description</h3>
<p>Connects to a specified IP address and port. The return value indicates success or failure. Also supports DNS lookups when using a domain name.</p>
<h3><a class="anchor" id="autotoc_md425"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.connect(ip, port)</div>
<div class="line">client.connect(servername, port)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md426"></a>
Parameters</h3>
<ul>
<li>ip: the IP address that the client will connect to (array of 4 bytes)</li>
<li>servername: the domain name the client will connect to (string, ex.:"arduino.cc")</li>
<li>port: the port that the client will connect to (int)</li>
</ul>
<h3><a class="anchor" id="autotoc_md427"></a>
Returns</h3>
<ul>
<li>Returns true if the connection succeeds, false if not.</li>
</ul>
<h3><a class="anchor" id="autotoc_md428"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };</div>
<div class="line">byte server[] = { 64, 233, 187, 99 }; // Google</div>
<div class="line"> </div>
<div class="line">EthernetClient client;</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line"> </div>
<div class="line">  delay(1000);</div>
<div class="line"> </div>
<div class="line">  Serial.println(&quot;connecting...&quot;);</div>
<div class="line"> </div>
<div class="line">  if (client.connect(server, 80)) {</div>
<div class="line">    Serial.println(&quot;connected&quot;);</div>
<div class="line">    client.println(&quot;GET /search?q=arduino HTTP/1.0&quot;);</div>
<div class="line">    client.println();</div>
<div class="line">  } else {</div>
<div class="line">    Serial.println(&quot;connection failed&quot;);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  if (client.available()) {</div>
<div class="line">    char c = client.read();</div>
<div class="line">    Serial.print(c);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  if (!client.connected()) {</div>
<div class="line">    Serial.println();</div>
<div class="line">    Serial.println(&quot;disconnecting.&quot;);</div>
<div class="line">    client.stop();</div>
<div class="line">    for(;;)</div>
<div class="line">      ;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md429"></a>
&lt;tt&gt;client.localPort()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md430"></a>
Description</h3>
<p>Returns the local port number the client is connected to.</p>
<h3><a class="anchor" id="autotoc_md431"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.localPort</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md432"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md433"></a>
Returns</h3>
<ul>
<li>the local port number the client is connected to (uint16_t).</li>
</ul>
<h3><a class="anchor" id="autotoc_md434"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server = EthernetServer(23);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // Open serial communications and wait for port to open:</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  // initialize the Ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">  // if an incoming client connects, there will be bytes available to read:</div>
<div class="line">  EthernetClient client = server.available();</div>
<div class="line">  if (client) {</div>
<div class="line">    Serial.print(&quot;Client is connected on port: &quot;);</div>
<div class="line">    Serial.println(client.localPort());</div>
<div class="line">    client.stop();</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md435"></a>
&lt;tt&gt;client.remoteIP()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md436"></a>
Description</h3>
<p>Returns the IP address of the client.</p>
<h3><a class="anchor" id="autotoc_md437"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.remoteIP()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md438"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md439"></a>
Returns</h3>
<ul>
<li>the client's IP address (IPAddress).</li>
</ul>
<h3><a class="anchor" id="autotoc_md440"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server = EthernetServer(23);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // Open serial communications and wait for port to open:</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  // initialize the Ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">  // if an incoming client connects, there will be bytes available to read:</div>
<div class="line">  EthernetClient client = server.available();</div>
<div class="line">  if (client) {</div>
<div class="line">    Serial.print(&quot;Remote IP address: &quot;);</div>
<div class="line">    Serial.println(client.remoteIP());</div>
<div class="line">    client.stop();</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md441"></a>
&lt;tt&gt;client.remotePort()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md442"></a>
Description</h3>
<p>Returns the port of the host that sent the current incoming packet.</p>
<h3><a class="anchor" id="autotoc_md443"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.remotePort()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md444"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md445"></a>
Returns</h3>
<ul>
<li>the port of the host that sent the current incoming packet (uint16_t).</li>
</ul>
<h3><a class="anchor" id="autotoc_md446"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server = EthernetServer(23);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // Open serial communications and wait for port to open:</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  // initialize the Ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">  // if an incoming client connects, there will be bytes available to read:</div>
<div class="line">  EthernetClient client = server.available();</div>
<div class="line">  if (client) {</div>
<div class="line">    Serial.print(&quot;Remote port: &quot;);</div>
<div class="line">    Serial.println(client.remotePort());</div>
<div class="line">    client.stop();</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md447"></a>
&lt;tt&gt;client.setConnectionTimeout()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md448"></a>
Description</h3>
<p>Set the timeout for client.connect() and client.stop(). The initial value is 1000 ms. You might prefer to set a lower timeout value to make your program more responsive in the event something goes wrong.</p>
<h3><a class="anchor" id="autotoc_md449"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.setConnectionTimeout(milliseconds)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md450"></a>
Parameters</h3>
<ul>
<li>milliseconds: the timeout duration for client.connect() and client.stop() (uint16_t)</li>
</ul>
<h3><a class="anchor" id="autotoc_md451"></a>
Returns</h3>
<p>Nothing</p>
<h3><a class="anchor" id="autotoc_md452"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = {0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED};</div>
<div class="line">IPAddress ip(10, 0, 0, 177);</div>
<div class="line"> </div>
<div class="line">// telnet defaults to port 23</div>
<div class="line">EthernetServer server = EthernetServer(23);</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // Open serial communications and wait for port to open:</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">  while (!Serial) {</div>
<div class="line">    ; // wait for serial port to connect. Needed for native USB port only</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  // initialize the Ethernet device</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line"> </div>
<div class="line">  // start listening for clients</div>
<div class="line">  server.begin();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">  // if an incoming client connects, there will be bytes available to read:</div>
<div class="line">  EthernetClient client = server.available();</div>
<div class="line">  if (client) {</div>
<div class="line">    client.setConnectionTimeout(100);  // set the timeout duration for client.connect() and client.stop()</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md453"></a>
&lt;tt&gt;client.write()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md454"></a>
Description</h3>
<p>Write data to the server the client is connected to. This data is sent as a byte or series of bytes.</p>
<h3><a class="anchor" id="autotoc_md455"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.write(val)</div>
<div class="line">client.write(buf, len)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md456"></a>
Parameters</h3>
<ul>
<li>val: a value to send as a single byte (byte or char)</li>
<li>buf: an array to send as a series of bytes (byte or char)</li>
<li>len: the length of the buffer</li>
</ul>
<h3><a class="anchor" id="autotoc_md457"></a>
Returns</h3>
<p>byte:</p><ul>
<li>write() returns the number of bytes written. It is not necessary to read this value.</li>
</ul>
<h2><a class="anchor" id="autotoc_md458"></a>
&lt;tt&gt;print()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md459"></a>
Description</h3>
<p><a class="el" href="classPrint.html">Print</a> data to the server that a client is connected to. Prints numbers as a sequence of digits, each an ASCII character (e.g. the number 123 is sent as the three characters '1', '2', '3').</p>
<h3><a class="anchor" id="autotoc_md460"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.print(data)</div>
<div class="line">client.print(data, BASE)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md461"></a>
Parameters</h3>
<ul>
<li>data: the data to print (char, byte, int, long, or string)</li>
<li>BASE (optional): the base in which to print numbers: DEC for decimal (base 10), OCT for octal (base 8), HEX for hexadecimal (base 16). </li>
</ul>
<h3><a class="anchor" id="autotoc_md462"></a>
Returns</h3>
<ul>
<li>byte: returns the number of bytes written, though reading that number is optional</li>
</ul>
<h2><a class="anchor" id="autotoc_md463"></a>
&lt;tt&gt;client.println()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md464"></a>
Description</h3>
<p><a class="el" href="classPrint.html">Print</a> data, followed by a carriage return and newline, to the server a client is connected to. Prints numbers as a sequence of digits, each an ASCII character (e.g. the number 123 is sent as the three characters '1', '2', '3').</p>
<h3><a class="anchor" id="autotoc_md465"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.println()</div>
<div class="line">client.println(data)</div>
<div class="line">client.print(data, BASE)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md466"></a>
Parameters</h3>
<ul>
<li>data (optional): the data to print (char, byte, int, long, or string)</li>
<li>BASE (optional): the base in which to print numbers: DEC for decimal (base 10), OCT for octal (base 8), HEX for hexadecimal (base 16).</li>
</ul>
<h3><a class="anchor" id="autotoc_md467"></a>
Returns</h3>
<ul>
<li>byte: return the number of bytes written, though reading that number is optional</li>
</ul>
<h2><a class="anchor" id="autotoc_md468"></a>
&lt;tt&gt;client.available()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md469"></a>
Description</h3>
<p>Returns the number of bytes available for reading (that is, the amount of data that has been written to the client by the server it is connected to).</p>
<p>available() inherits from the <a class="el" href="structStream.html">Stream</a> utility class.</p>
<h3><a class="anchor" id="autotoc_md470"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.available()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md471"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md472"></a>
Returns</h3>
<ul>
<li>The number of bytes available.</li>
</ul>
<h3><a class="anchor" id="autotoc_md473"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;SPI.h&gt;</div>
<div class="line"> </div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">byte ip[] = { 10, 0, 0, 177 };</div>
<div class="line">byte server[] = { 64, 233, 187, 99 }; // Google</div>
<div class="line"> </div>
<div class="line">EthernetClient client;</div>
<div class="line"> </div>
<div class="line">void setup()</div>
<div class="line">{</div>
<div class="line">  Ethernet.begin(mac, ip);</div>
<div class="line">  Serial.begin(9600);</div>
<div class="line"> </div>
<div class="line">  delay(1000);</div>
<div class="line"> </div>
<div class="line">  Serial.println(&quot;connecting...&quot;);</div>
<div class="line"> </div>
<div class="line">  if (client.connect(server, 80)) {</div>
<div class="line">    Serial.println(&quot;connected&quot;);</div>
<div class="line">    client.println(&quot;GET /search?q=arduino HTTP/1.0&quot;);</div>
<div class="line">    client.println();</div>
<div class="line">  } else {</div>
<div class="line">    Serial.println(&quot;connection failed&quot;);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop()</div>
<div class="line">{</div>
<div class="line">  if (client.available()) {</div>
<div class="line">    char c = client.read();</div>
<div class="line">    Serial.print(c);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  if (!client.connected()) {</div>
<div class="line">    Serial.println();</div>
<div class="line">    Serial.println(&quot;disconnecting.&quot;);</div>
<div class="line">    client.stop();</div>
<div class="line">    for(;;)</div>
<div class="line">      ;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md474"></a>
&lt;tt&gt;client.read()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md475"></a>
Description</h3>
<p>Read the next byte received from the server the client is connected to (after the last call to read()).</p>
<p>read() inherits from the <a class="el" href="structStream.html">Stream</a> utility class.</p>
<h3><a class="anchor" id="autotoc_md476"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.read()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md477"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md478"></a>
Returns</h3>
<ul>
<li>The next byte (or character), or -1 if none is available.</li>
</ul>
<h2><a class="anchor" id="autotoc_md479"></a>
&lt;tt&gt;client.flush()&lt;/tt&gt;</h2>
<p>Waits until all outgoing characters in buffer have been sent.</p>
<p>flush() inherits from the <a class="el" href="structStream.html">Stream</a> utility class.</p>
<h3><a class="anchor" id="autotoc_md480"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.flush()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md481"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md482"></a>
Returns</h3>
<p>none</p>
<h2><a class="anchor" id="autotoc_md483"></a>
&lt;tt&gt;client.stop()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md484"></a>
Description</h3>
<p>Disconnect from the server.</p>
<h3><a class="anchor" id="autotoc_md485"></a>
Syntax</h3>
<div class="fragment"><div class="line">client.stop()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md486"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md487"></a>
Returns</h3>
<p>none</p>
<h1><a class="anchor" id="autotoc_md488"></a>
EthernetUDP Class</h1>
<h2><a class="anchor" id="autotoc_md489"></a>
&lt;tt&gt;EthernetUDP.begin()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md490"></a>
Description</h3>
<p>Initializes the ethernet UDP library and network settings.</p>
<h3><a class="anchor" id="autotoc_md491"></a>
Syntax</h3>
<div class="fragment"><div class="line">EthernetUDP.begin(localPort);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md492"></a>
Parameters</h3>
<ul>
<li>localPort: the local port to listen on (int)</li>
</ul>
<h3><a class="anchor" id="autotoc_md493"></a>
Returns</h3>
<ul>
<li>1 if successful, 0 if there are no sockets available to use.</li>
</ul>
<h3><a class="anchor" id="autotoc_md494"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;        </div>
<div class="line"> </div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">#include &lt;EthernetUdp.h&gt;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">// Enter a MAC address and IP address for your controller below.</div>
<div class="line"> </div>
<div class="line">// The IP address will be dependent on your local network:</div>
<div class="line"> </div>
<div class="line">byte mac[] = {  </div>
<div class="line"> </div>
<div class="line">  0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line"> </div>
<div class="line">IPAddress ip(192, 168, 1, 177);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">unsigned int localPort = 8888;      // local port to listen on</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">// An EthernetUDP instance to let us send and receive packets over UDP</div>
<div class="line"> </div>
<div class="line">EthernetUDP Udp;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line"> </div>
<div class="line">  // start the Ethernet and UDP:</div>
<div class="line"> </div>
<div class="line">  Ethernet.begin(mac,ip);</div>
<div class="line"> </div>
<div class="line">  Udp.begin(localPort);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md495"></a>
&lt;tt&gt;EthernetUDP.read()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md496"></a>
Description</h3>
<p>Reads UDP data from the specified buffer. If no arguments are given, it will return the next character in the buffer.</p>
<p>This function can only be successfully called after UDP.parsePacket().</p>
<h3><a class="anchor" id="autotoc_md497"></a>
Syntax</h3>
<div class="fragment"><div class="line">EthernetUDP.read();</div>
<div class="line">EthernetUDP.read(packetBuffer, MaxSize);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md498"></a>
Parameters</h3>
<ul>
<li>packetBuffer: buffer to hold incoming packets (char)</li>
<li>MaxSize: maximum size of the buffer (int)</li>
</ul>
<h3><a class="anchor" id="autotoc_md499"></a>
Returns</h3>
<ul>
<li>char : returns the characters in the buffer</li>
</ul>
<h3><a class="anchor" id="autotoc_md500"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;        </div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;EthernetUdp.h&gt;</div>
<div class="line"> </div>
<div class="line">// Enter a MAC address and IP address for your controller below.</div>
<div class="line">// The IP address will be dependent on your local network:</div>
<div class="line">byte mac[] = {  </div>
<div class="line">  0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">IPAddress ip(192, 168, 1, 177);</div>
<div class="line"> </div>
<div class="line">unsigned int localPort = 8888;      // local port to listen on</div>
<div class="line"> </div>
<div class="line">// An EthernetUDP instance to let us send and receive packets over UDP</div>
<div class="line">EthernetUDP Udp;</div>
<div class="line"> </div>
<div class="line">char packetBuffer[UDP_TX_PACKET_MAX_SIZE]; //buffer to hold incoming packet,</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // start the Ethernet and UDP:</div>
<div class="line">  Ethernet.begin(mac,ip);</div>
<div class="line">  Udp.begin(localPort);</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">  int packetSize = Udp.parsePacket();</div>
<div class="line">  if(packetSize)</div>
<div class="line">  {</div>
<div class="line">    Serial.print(&quot;Received packet of size &quot;);</div>
<div class="line">    Serial.println(packetSize);</div>
<div class="line">    Serial.print(&quot;From &quot;);</div>
<div class="line">    IPAddress remote = Udp.remoteIP();</div>
<div class="line">    for (int i =0; i &lt; 4; i++)</div>
<div class="line">    {</div>
<div class="line">      Serial.print(remote[i], DEC);</div>
<div class="line">      if (i &lt; 3)</div>
<div class="line">      {</div>
<div class="line">        Serial.print(&quot;.&quot;);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    Serial.print(&quot;, port &quot;);</div>
<div class="line">    Serial.println(Udp.remotePort());</div>
<div class="line"> </div>
<div class="line">    // read the packet into packetBuffer</div>
<div class="line">    Udp.read(packetBuffer,UDP_TX_PACKET_MAX_SIZE);</div>
<div class="line">    Serial.println(&quot;Contents:&quot;);</div>
<div class="line">    Serial.println(packetBuffer);</div>
<div class="line">}</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md501"></a>
&lt;tt&gt;EthernetUDP.write()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md502"></a>
Description</h3>
<p>Writes UDP data to the remote connection. Must be wrapped between beginPacket() and endPacket(). beginPacket() initializes the packet of data, it is not sent until endPacket() is called.</p>
<h3><a class="anchor" id="autotoc_md503"></a>
Syntax</h3>
<div class="fragment"><div class="line">EthernetUDP.write(message);</div>
<div class="line">EthernetUDP.write(buffer, size);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md504"></a>
Parameters</h3>
<ul>
<li>message: the outgoing message (char)</li>
<li>buffer: an array to send as a series of bytes (byte or char)</li>
<li>size: the length of the buffer</li>
</ul>
<h3><a class="anchor" id="autotoc_md505"></a>
Returns</h3>
<ul>
<li>byte : returns the number of characters sent. This does not have to be read</li>
</ul>
<h3><a class="anchor" id="autotoc_md506"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;        </div>
<div class="line"> </div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line"> </div>
<div class="line">#include &lt;EthernetUdp.h&gt;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">// Enter a MAC address and IP address for your controller below.</div>
<div class="line"> </div>
<div class="line">// The IP address will be dependent on your local network:</div>
<div class="line"> </div>
<div class="line">byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line"> </div>
<div class="line">IPAddress ip(192, 168, 1, 177);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">unsigned int localPort = 8888;      // local port to listen on</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">// An EthernetUDP instance to let us send and receive packets over UDP</div>
<div class="line"> </div>
<div class="line">EthernetUDP Udp;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line"> </div>
<div class="line">  // start the Ethernet and UDP:</div>
<div class="line"> </div>
<div class="line">  Ethernet.begin(mac,ip);</div>
<div class="line"> </div>
<div class="line">  Udp.begin(localPort);</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">  Udp.beginPacket(Udp.remoteIP(), Udp.remotePort());</div>
<div class="line"> </div>
<div class="line">    Udp.write(&quot;hello&quot;);</div>
<div class="line"> </div>
<div class="line">    Udp.endPacket();</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md507"></a>
&lt;tt&gt;EthernetUDP.beginPacket()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md508"></a>
Description</h3>
<p>Starts a connection to write UDP data to the remote connection</p>
<h3><a class="anchor" id="autotoc_md509"></a>
Syntax</h3>
<div class="fragment"><div class="line">EthernetUDP.beginPacket(remoteIP, remotePort);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md510"></a>
Parameters</h3>
<ul>
<li>remoteIP: the IP address of the remote connection (4 bytes)</li>
<li>remotePort: the port of the remote connection (int) </li>
</ul>
<h3><a class="anchor" id="autotoc_md511"></a>
Returns</h3>
<ul>
<li>Returns an int: 1 if successful, 0 if there was a problem resolving the hostname or port.</li>
</ul>
<h3><a class="anchor" id="autotoc_md512"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;        </div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;EthernetUdp.h&gt;</div>
<div class="line"> </div>
<div class="line">// Enter a MAC address and IP address for your controller below.</div>
<div class="line">// The IP address will be dependent on your local network:</div>
<div class="line">byte mac[] = {  </div>
<div class="line">  0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">IPAddress ip(192, 168, 1, 177);</div>
<div class="line"> </div>
<div class="line">unsigned int localPort = 8888;      // local port to listen on</div>
<div class="line"> </div>
<div class="line">// An EthernetUDP instance to let us send and receive packets over UDP</div>
<div class="line">EthernetUDP Udp;</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // start the Ethernet and UDP:</div>
<div class="line">  Ethernet.begin(mac,ip);</div>
<div class="line">  Udp.begin(localPort);</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">  Udp.beginPacket(Udp.remoteIP(), Udp.remotePort());</div>
<div class="line">    Udp.write(&quot;hello&quot;);</div>
<div class="line">    Udp.endPacket();</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md513"></a>
&lt;tt&gt;EthernetUDP.endPacket()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md514"></a>
Description</h3>
<p>Called after writing UDP data to the remote connection.</p>
<h3><a class="anchor" id="autotoc_md515"></a>
Syntax</h3>
<div class="fragment"><div class="line">EthernetUDP.endPacket();</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md516"></a>
Parameters</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md517"></a>
Returns</h3>
<ul>
<li>Returns an int: 1 if the packet was sent successfully, 0 if there was an error</li>
</ul>
<h3><a class="anchor" id="autotoc_md518"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;        </div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;EthernetUdp.h&gt;</div>
<div class="line"> </div>
<div class="line">// Enter a MAC address and IP address for your controller below.</div>
<div class="line">// The IP address will be dependent on your local network:</div>
<div class="line">byte mac[] = {  </div>
<div class="line">  0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">IPAddress ip(192, 168, 1, 177);</div>
<div class="line"> </div>
<div class="line">unsigned int localPort = 8888;      // local port to listen on</div>
<div class="line"> </div>
<div class="line">// An EthernetUDP instance to let us send and receive packets over UDP</div>
<div class="line">EthernetUDP Udp;</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // start the Ethernet and UDP:</div>
<div class="line">  Ethernet.begin(mac,ip);</div>
<div class="line">  Udp.begin(localPort);</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">  Udp.beginPacket(Udp.remoteIP(), Udp.remotePort());</div>
<div class="line">    Udp.write(&quot;hello&quot;);</div>
<div class="line">    Udp.endPacket();</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md519"></a>
&lt;tt&gt;EthernetUDP.parsePacket()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md520"></a>
Description</h3>
<p>Checks for the presence of a UDP packet, and reports the size. parsePacket() must be called before reading the buffer with UDP.read().</p>
<h3><a class="anchor" id="autotoc_md521"></a>
Syntax</h3>
<div class="fragment"><div class="line">EthernetUDP.parsePacket();</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md522"></a>
Parameters</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md523"></a>
Returns</h3>
<ul>
<li>int: the size of a received UDP packet</li>
</ul>
<h3><a class="anchor" id="autotoc_md524"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;         // needed for Arduino versions later than 0018</div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;EthernetUdp.h&gt;         // UDP library from: bjoern@cs.stanford.edu 12/30/2008</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">// Enter a MAC address and IP address for your controller below.</div>
<div class="line">// The IP address will be dependent on your local network:</div>
<div class="line">byte mac[] = {  </div>
<div class="line">  0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">IPAddress ip(192, 168, 1, 177);</div>
<div class="line"> </div>
<div class="line">unsigned int localPort = 8888;      // local port to listen on</div>
<div class="line"> </div>
<div class="line">// An EthernetUDP instance to let us send and receive packets over UDP</div>
<div class="line">EthernetUDP Udp;</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // start the Ethernet and UDP:</div>
<div class="line">  Ethernet.begin(mac,ip);</div>
<div class="line">  Udp.begin(localPort);</div>
<div class="line"> </div>
<div class="line">  Serial.begin(9600);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line">  // if there&#39;s data available, read a packet</div>
<div class="line">  int packetSize = Udp.parsePacket();</div>
<div class="line">  if(packetSize)</div>
<div class="line">  {</div>
<div class="line">    Serial.print(&quot;Received packet of size &quot;);</div>
<div class="line">    Serial.println(packetSize);</div>
<div class="line">  }</div>
<div class="line">  delay(10);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md525"></a>
&lt;tt&gt;EthernetUDP.available()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md526"></a>
Description</h3>
<p>Get the number of bytes (characters) available for reading from the buffer. This is data that's already arrived.</p>
<p>This function can only be successfully called after UDP.parsePacket().</p>
<p>available() inherits from the <a class="el" href="structStream.html">Stream</a> utility class.</p>
<h3><a class="anchor" id="autotoc_md527"></a>
Syntax</h3>
<div class="fragment"><div class="line">EthernetUDP.available()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md528"></a>
Parameters</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md529"></a>
Returns</h3>
<ul>
<li>the number of bytes available to read</li>
</ul>
<h3><a class="anchor" id="autotoc_md530"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;        </div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;EthernetUdp.h&gt;</div>
<div class="line"> </div>
<div class="line">// Enter a MAC address and IP address for your controller below.</div>
<div class="line">// The IP address will be dependent on your local network:</div>
<div class="line">byte mac[] = {  </div>
<div class="line">  0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">IPAddress ip(192, 168, 1, 177);</div>
<div class="line"> </div>
<div class="line">unsigned int localPort = 8888;      // local port to listen on</div>
<div class="line"> </div>
<div class="line">// An EthernetUDP instance to let us send and receive packets over UDP</div>
<div class="line">EthernetUDP Udp;</div>
<div class="line"> </div>
<div class="line">char packetBuffer[UDP_TX_PACKET_MAX_SIZE]; //buffer to hold incoming packet,</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // start the Ethernet and UDP:</div>
<div class="line">  Ethernet.begin(mac,ip);</div>
<div class="line">  Udp.begin(localPort);</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">  int packetSize = Udp.parsePacket();</div>
<div class="line">  if(Udp.available())</div>
<div class="line">  {</div>
<div class="line">    Serial.print(&quot;Received packet of size &quot;);</div>
<div class="line">    Serial.println(packetSize);</div>
<div class="line">    Serial.print(&quot;From &quot;);</div>
<div class="line">    IPAddress remote = Udp.remoteIP();</div>
<div class="line">    for (int i =0; i &lt; 4; i++)</div>
<div class="line">    {</div>
<div class="line">      Serial.print(remote[i], DEC);</div>
<div class="line">      if (i &lt; 3)</div>
<div class="line">      {</div>
<div class="line">        Serial.print(&quot;.&quot;);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    Serial.print(&quot;, port &quot;);</div>
<div class="line">    Serial.println(Udp.remotePort());</div>
<div class="line"> </div>
<div class="line">    // read the packet into packetBuffer</div>
<div class="line">    Udp.read(packetBuffer,UDP_TX_PACKET_MAX_SIZE);</div>
<div class="line">    Serial.println(&quot;Contents:&quot;);</div>
<div class="line">    Serial.println(packetBuffer);</div>
<div class="line"> }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md531"></a>
UDP class</h1>
<h2><a class="anchor" id="autotoc_md532"></a>
&lt;tt&gt;UDP.stop()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md533"></a>
Description</h3>
<p>Disconnect from the server. Release any resource being used during the UDP session.</p>
<h3><a class="anchor" id="autotoc_md534"></a>
Syntax</h3>
<div class="fragment"><div class="line">UDP.stop()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md535"></a>
Parameters</h3>
<p>none</p>
<h3><a class="anchor" id="autotoc_md536"></a>
Returns</h3>
<p>none</p>
<h2><a class="anchor" id="autotoc_md537"></a>
&lt;tt&gt;UDP.remoteIP()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md538"></a>
Description</h3>
<p>Gets the IP address of the remote connection.</p>
<p>This function must be called after UDP.parsePacket().</p>
<h3><a class="anchor" id="autotoc_md539"></a>
Syntax</h3>
<div class="fragment"><div class="line">UDP.remoteIP();</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md540"></a>
Parameters</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md541"></a>
Returns</h3>
<ul>
<li>4 bytes : the IP address of the remote connection</li>
</ul>
<h3><a class="anchor" id="autotoc_md542"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;        </div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;EthernetUdp.h&gt;</div>
<div class="line"> </div>
<div class="line">// Enter a MAC address and IP address for your controller below.</div>
<div class="line">// The IP address will be dependent on your local network:</div>
<div class="line">byte mac[] = {  </div>
<div class="line">  0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">IPAddress ip(192, 168, 1, 177);</div>
<div class="line"> </div>
<div class="line">unsigned int localPort = 8888;      // local port to listen on</div>
<div class="line"> </div>
<div class="line">// An EthernetUDP instance to let us send and receive packets over UDP</div>
<div class="line">EthernetUDP Udp;</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // start the Ethernet and UDP:</div>
<div class="line">  Ethernet.begin(mac,ip);</div>
<div class="line">  Udp.begin(localPort);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">  int packetSize = Udp.parsePacket();</div>
<div class="line">  if(packetSize)</div>
<div class="line">  {</div>
<div class="line">    Serial.print(&quot;Received packet of size &quot;);</div>
<div class="line">    Serial.println(packetSize);</div>
<div class="line">    Serial.print(&quot;From IP : &quot;);</div>
<div class="line"> </div>
<div class="line">    IPAddress remote = Udp.remoteIP();</div>
<div class="line">    //print out the remote connection&#39;s IP address</div>
<div class="line">    Serial.print(remote);</div>
<div class="line"> </div>
<div class="line">    Serial.print(&quot; on port : &quot;);</div>
<div class="line">    //print out the remote connection&#39;s port</div>
<div class="line">    Serial.println(Udp.remotePort());</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md543"></a>
&lt;tt&gt;UDP.remotePort()&lt;/tt&gt;</h2>
<h3><a class="anchor" id="autotoc_md544"></a>
Description</h3>
<p>Gets the port of the remote UDP connection.</p>
<p>This function must be called after UDP.parsePacket().</p>
<h3><a class="anchor" id="autotoc_md545"></a>
Syntax</h3>
<div class="fragment"><div class="line">UDP.remotePort();</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md546"></a>
Parameters</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md547"></a>
Returns</h3>
<ul>
<li>int : the port of the UDP connection to a remote host</li>
</ul>
<h3><a class="anchor" id="autotoc_md548"></a>
Example</h3>
<div class="fragment"><div class="line">#include &lt;SPI.h&gt;        </div>
<div class="line">#include &lt;Ethernet.h&gt;</div>
<div class="line">#include &lt;EthernetUdp.h&gt;</div>
<div class="line"> </div>
<div class="line">// Enter a MAC address and IP address for your controller below.</div>
<div class="line">// The IP address will be dependent on your local network:</div>
<div class="line">byte mac[] = {  </div>
<div class="line">  0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div>
<div class="line">IPAddress ip(192, 168, 1, 177);</div>
<div class="line"> </div>
<div class="line">unsigned int localPort = 8888;      // local port to listen on</div>
<div class="line"> </div>
<div class="line">// An EthernetUDP instance to let us send and receive packets over UDP</div>
<div class="line">EthernetUDP Udp;</div>
<div class="line"> </div>
<div class="line">char packetBuffer[UDP_TX_PACKET_MAX_SIZE]; //buffer to hold incoming packet,</div>
<div class="line"> </div>
<div class="line">void setup() {</div>
<div class="line">  // start the Ethernet and UDP:</div>
<div class="line">  Ethernet.begin(mac,ip);</div>
<div class="line">  Udp.begin(localPort);</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void loop() {</div>
<div class="line"> </div>
<div class="line">  int packetSize = Udp.parsePacket();</div>
<div class="line">  if(packetSize)</div>
<div class="line">  {</div>
<div class="line">    Serial.print(&quot;Received packet of size &quot;);</div>
<div class="line">    Serial.println(packetSize);</div>
<div class="line">    Serial.print(&quot;From &quot;);</div>
<div class="line">    IPAddress remote = Udp.remoteIP();</div>
<div class="line">    for (int i =0; i &lt; 4; i++)</div>
<div class="line">    {</div>
<div class="line">      Serial.print(remote[i], DEC);</div>
<div class="line">      if (i &lt; 3)</div>
<div class="line">      {</div>
<div class="line">        Serial.print(&quot;.&quot;);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">    Serial.print(&quot;, port &quot;);</div>
<div class="line">    Serial.println(Udp.remotePort());</div>
<div class="line"> </div>
<div class="line">    // read the packet into packetBuffer</div>
<div class="line">    Udp.read(packetBuffer,UDP_TX_PACKET_MAX_SIZE);</div>
<div class="line">    Serial.println(&quot;Contents:&quot;);</div>
<div class="line">    Serial.println(packetBuffer);</div>
<div class="line"> }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
